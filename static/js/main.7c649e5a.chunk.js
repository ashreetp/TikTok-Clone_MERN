(this.webpackJsonptiktok=this.webpackJsonptiktok||[]).push([[0],{105:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(21),r=n.n(a),i=(n(95),n(6)),l=n.n(i),o=n(15),u=n(16),j=(n(97),n(98),n(99),n(73)),d=n.n(j),b=n(72),h=n(1);var O=function(e){var t=e.channel,n=e.description,c=e.song;return Object(h.jsxs)("div",{className:"videoFooter",children:[Object(h.jsxs)("div",{className:"videoFooter_text",children:[Object(h.jsxs)("h3",{children:["@",t]}),Object(h.jsx)("p",{children:n}),Object(h.jsxs)("div",{className:"videoFooter_ticker",children:[Object(h.jsx)(d.a,{className:"videoFooter_icon"}),Object(h.jsx)(b.a,{mode:"smooth",children:function(e){e.index;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("p",{children:c})})}})]})]}),Object(h.jsx)("img",{className:"videoFooter_record",src:"https://static.thenounproject.com/png/934821-200.png",alt:""})]})},x=(n(105),n(78)),p=n.n(x).a.create({baseURL:"https://tiktok-fullstack.herokuapp.com/"}),f=n(79),m=n.n(f),v=n(81),g=n.n(v),N=n(80),_=n.n(N),w=n(82),k=n.n(w);var R=function(e){var t=e.objid,n=e.likes,s=e.comments,a=e.url,r=Object(c.useState)(),i=Object(u.a)(r,2),j=i[0],d=i[1];function b(){return(b=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),e.next=3,p.put("/v2/posts/likeoff",{objid:t,user:localStorage.getItem("active_user")}).then((function(){console.log("done")})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),p.put("/v2/posts/likeon",{objid:t,user:localStorage.getItem("active_user")}).then((function(){console.log("done 2")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.put("/v2/checklike",{objid:t,user:localStorage.getItem("active_user")}).then((function(e){1==e.data?d(!0):d(!1)})).catch((function(e){console.log(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsxs)("div",{className:"videoSidebar",style:{cursor:"pointer"},children:[Object(h.jsxs)("div",{className:"videoSidebar_button",children:[j?Object(h.jsx)(m.a,{fontSize:"large",onClick:function(){return b.apply(this,arguments)}}):Object(h.jsx)(_.a,{fontSize:"large",onClick:function(){return O.apply(this,arguments)}}),Object(h.jsx)("p",{children:n})]}),Object(h.jsxs)("div",{className:"videoSidebar_button",children:[Object(h.jsx)(g.a,{fontSize:"large"}),Object(h.jsx)("p",{children:s})]}),Object(h.jsx)("div",{className:"videoSidebar_button",children:Object(h.jsx)("a",{href:a,download:"file",children:Object(h.jsx)(k.a,{fontSize:"large"})})})]})};var y=function(e){var t=e.objid,n=e.url,s=e.channel,a=e.description,r=e.song,i=e.likes,l=e.comments,o=Object(c.useState)(!1),j=Object(u.a)(o,2),d=j[0],b=j[1],x=Object(c.useRef)(null),p=function(){d?(x.current.pause(),b(!1)):(x.current.play(),b(!0))};return Object(h.jsxs)("div",{className:"video",style:{cursor:"crosshair"},children:[Object(h.jsx)("video",{tabIndex:"1",onMouseOver:p,onMouseOut:p,ref:x,className:"video_player",loop:!0,src:n}),Object(h.jsx)(O,{channel:s,description:a,song:r}),Object(h.jsx)(R,{objid:t,likes:i,comments:l,url:n})]})};var S=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:" ERROR "})})},F=(n(124),n(125),n(169)),C=n(38),E=n.n(C),U=n(9),I=n(19);var L=function(e){var t=e.login;return Object(h.jsx)("div",{children:t?Object(h.jsx)(U.d,{children:Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)(E.a,{style:{width:50,height:50}}),Object(h.jsxs)("div",{className:"header_right",children:[Object(h.jsx)(I.b,{to:"/signin",children:Object(h.jsx)(F.a,{variant:"outlined",className:"header_but",children:"Sign in"})}),Object(h.jsx)(I.b,{to:"/signup",children:Object(h.jsx)(F.a,{variant:"outlined",className:"header_but",children:"Register"})})]})]})}):Object(h.jsx)(S,{})})},A=n(83),D=n.n(A),P=n(170);n(140);var M=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"sign_car",children:Object(h.jsx)(D.a,{children:["https://source.unsplash.com/1S1w1c4_VyA/1080x520","https://source.unsplash.com/oZqRqFlEXrw","https://source.unsplash.com/hAx-C1Klakw","https://source.unsplash.com/tAH2cA_BL5g","https://source.unsplash.com/16Axr46F1ng"].map((function(e,t){return Object(h.jsx)(P.a,{children:Object(h.jsx)("img",{src:e,className:"sign_img"})})}))})})})},z=(n(141),n(173)),B=n(174),T=Object(c.createContext)(),q=n(47),H=n.n(q);var J=function(e){var t=e.login,n=Object(c.useRef)(null),s=Object(c.useRef)(null),a=Object(c.useContext)(T),r=(a.user,a.setUser),i=Object(c.useState)(!0),j=Object(u.a)(i,2),d=j[0];return j[1],Object(h.jsx)("div",{children:t?Object(h.jsx)(U.a,{to:"/",exact:!0}):Object(h.jsx)("div",{className:"main3",children:Object(h.jsxs)("div",{maxWidth:"sm",className:"con3",children:[Object(h.jsx)(E.a,{style:{width:50,height:50},className:"icon3"}),Object(h.jsxs)("div",{className:"con_div3",children:[Object(h.jsx)(z.a,{className:"con_fields34",children:"Enter Username "}),Object(h.jsx)(B.a,{className:"con_fields34",inputRef:n}),Object(h.jsx)(z.a,{className:"con_fields34",children:"Enter Password "}),Object(h.jsx)(B.a,{className:"con_fields34",type:"password",inputRef:s}),d?Object(h.jsx)(F.a,{onClick:function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:n.current.value,password:s.current.value},e.next=3,p.post("/login",t);case 3:return c=e.sent,localStorage.setItem("active_user",t.username),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){"fail"==e.data?(console.log("failed to login"),window.alert("Login Failed")):(H.a.set("name","true"),r(!0))})).catch((function(e){console.log(e)}))},className:"con_but3",variant:"outlined",color:"secondary",children:" Login "}):Object(h.jsx)(U.a,{to:"/"})]})]})})})};n(142);var W=function(e){var t=e.login,n=Object(c.useRef)(null),s=Object(c.useRef)(null),a=Object(c.useRef)(null),r=Object(c.useRef)(null),i=Object(c.useRef)(null),j=Object(c.useState)(!0),d=Object(u.a)(j,2),b=d[0],O=d[1];return Object(h.jsx)("div",{children:t?Object(h.jsx)(U.a,{to:"/",exact:!0}):Object(h.jsx)("div",{className:"main2",children:Object(h.jsxs)("div",{maxWidth:"sm",className:"con2",children:[Object(h.jsx)(E.a,{style:{width:50,height:50},className:"icon"}),Object(h.jsxs)("div",{className:"con_div2",children:[Object(h.jsx)(z.a,{className:"con_fields2",children:"Full Name "}),Object(h.jsx)(B.a,{className:"con_fields2",inputRef:n}),Object(h.jsx)(z.a,{className:"con_fields2",children:"Phone Number "}),Object(h.jsx)(B.a,{className:"con_fields2",inputRef:s}),Object(h.jsx)(z.a,{className:"con_fields2",children:"Email "}),Object(h.jsx)(B.a,{className:"con_fields2",inputRef:a}),Object(h.jsx)(z.a,{className:"con_fields2",children:"Username "}),Object(h.jsx)(B.a,{className:"con_fields2",inputRef:r}),Object(h.jsx)(z.a,{className:"con_fields2",children:"Password "}),Object(h.jsx)(B.a,{className:"con_fields2",type:"password",inputRef:i}),b?Object(h.jsx)(F.a,{onClick:function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={fullname:n.current.value,phonenumber:s.current.value,email:a.current.value,username:r.current.value,password:i.current.value},e.next=3,p.post("/register",t);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){"User Exists"==e.data?(console.log("User Exists"),window.alert("User Exists")):(console.log("Registered"),O(!1))})).catch((function(e){console.log(e)}))},className:"con_but2",variant:"outlined",color:"secondary",children:"Register"}):Object(h.jsx)(U.a,{to:"/signin",exact:!0})]})]})})})},G=function(e){var t=e.login;return Object(h.jsx)("div",{children:t?Object(h.jsx)(S,{}):Object(h.jsxs)("div",{className:"sign",children:[Object(h.jsx)(L,{login:!0}),Object(h.jsx)(M,{})]})})};n(143);var K=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=Object(c.useRef)(null);return Object(h.jsxs)("div",{className:"add",children:[Object(h.jsx)(B.a,{className:"add_ip",inputRef:e,placeholder:"URL"}),Object(h.jsx)(B.a,{className:"add_ip",inputRef:t,placeholder:"Description"}),Object(h.jsx)(B.a,{className:"add_ip",inputRef:n,placeholder:"Song"}),Object(h.jsx)(F.a,{onClick:function(){function c(){return(c=Object(o.a)(l.a.mark((function c(){var s,a;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={url:e.current.value,channel:localStorage.getItem("active_user"),description:t.current.value,song:n.current.value,likes:0,comments:0,shares:0},c.next=3,p.post("/upload",s);case 3:return a=c.sent,c.abrupt("return",a);case 5:case"end":return c.stop()}}),c)})))).apply(this,arguments)}(function(){return c.apply(this,arguments)})().then((function(e){"fail"==e.data?(console.log("Failed"),window.alert("Failed")):(console.log("Uploaded"),window.location.href="/")})).catch((function(e){console.log(e)}))},variant:"outlined",className:"add_but",children:"Upload"})]})},V=(n(144),n(145),n(171));var X=function(e){var t=e.desc,n=e.url,s=e.song,a=e.ind,r=e.oid,i=e.cb,j=Object(c.useRef)(null),d=Object(c.useRef)(null),b=Object(c.useRef)(null),O=Object(c.useState)(!0),x=Object(u.a)(O,2),f=x[0],m=x[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("td",{children:a}),Object(h.jsx)("td",{children:Object(h.jsx)(V.a,{className:"area",rowsMin:3,ref:j,disabled:!0,children:t})}),Object(h.jsx)("td",{children:Object(h.jsx)(V.a,{className:"area",rowsMin:3,ref:d,disabled:!0,children:s})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{className:"inp",ref:b,value:n,disabled:!0})}),f?Object(h.jsx)("td",{children:Object(h.jsx)(F.a,{className:"btn",variant:"contained",onClick:function(){j.current.disabled=!1,d.current.disabled=!1,b.current.disabled=!1,m(!1)},children:"Edit"})}):Object(h.jsx)("td",{children:Object(h.jsx)(F.a,{className:"btn",variant:"contained",onClick:function(){j.current.disabled=!0,d.current.disabled=!0,b.current.disabled=!0,m(!0);var e={id:r,user:localStorage.getItem("active_user"),url:b.current.value,description:j.current.value,song:d.current.value};function t(){return(t=Object(o.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.post("/v2/manage",{dat:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},children:"Update"})}),Object(h.jsx)("td",{children:Object(h.jsx)(F.a,{className:"btn",variant:"contained",onClick:function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.put("/v2/managedel",{id:r});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log(r),function(){e.apply(this,arguments)}(),i(a)},children:" Delete"})})]})},Z=n(175);var Q=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1];Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.put("/v2/manage",{id:localStorage.getItem("active_user")});case 2:return t=e.sent,s(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var a=function(e){var t=n;t.splice(e,1),s(t)};return Object(h.jsxs)("div",{className:"main",children:[Object(h.jsxs)("div",{className:"main_but",children:[Object(h.jsx)(F.a,{onClick:function(){window.location.href="/"},variant:"outlined",className:"but_but",children:" Home "}),Object(h.jsx)(I.b,{to:"/add",children:Object(h.jsx)(F.a,{variant:"outlined",className:"but_but",children:" Add "})})]}),Object(h.jsxs)(Z.a,{border:"1",cellPadding:"5",cellSpacing:"1",className:"main_table",children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"S.No"}),Object(h.jsx)("td",{children:"Description"}),Object(h.jsx)("td",{children:"Song"}),Object(h.jsx)("td",{children:"URL"}),Object(h.jsx)("td",{children:"Edit"}),Object(h.jsx)("td",{children:"Delete"})]}),n.map((function(e,t){return Object(h.jsx)("tr",{children:Object(h.jsx)(X,{cb:a,oid:e._id,ind:t,desc:e.description,song:e.song,url:e.url})})}))]})]})};var Y=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(u.a)(a,2),i=r[0],j=r[1];return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/v2/posts");case 2:return t=e.sent,s(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsx)(T.Provider,{value:{user:i,setUser:j},children:i||H.a.get("name")?Object(h.jsxs)(U.d,{children:[Object(h.jsx)(U.b,{path:"/signin",exact:!0,children:Object(h.jsx)(U.a,{to:"/",exact:!0})}),Object(h.jsx)(U.b,{path:"/add",exact:!0,children:Object(h.jsx)(K,{})}),Object(h.jsx)(U.b,{path:"/manage",exact:!0,children:Object(h.jsx)(Q,{})}),Object(h.jsxs)(U.b,{path:"/",exact:!0,children:[Object(h.jsxs)("div",{className:"but",children:[Object(h.jsx)(I.b,{to:"/add",children:Object(h.jsx)(F.a,{variant:"outlined",className:"but_but",children:" ADD "})}),Object(h.jsx)(I.b,{to:"/manage",children:Object(h.jsx)(F.a,{variant:"outlined",className:"but_but",children:" Manage "})}),Object(h.jsx)(F.a,{variant:"outlined",className:"but_but",onClick:function(){H.a.remove("name"),localStorage.clear(),window.location.href="/"},children:" LOGOUT "})]}),Object(h.jsx)("div",{className:"app",children:Object(h.jsxs)("div",{className:"app_videos",children:[n.map((function(e){var t=e._id,n=e.url,c=e.channel,s=e.description,a=e.song,r=e.likes,i=e.comments;e.shares;return Object(h.jsx)(y,{login:!0,objid:t,url:n,channel:c,description:s,song:a,likes:parseInt(r),comments:parseInt(i)})})),";"]})})]}),Object(h.jsx)(U.b,{component:S})]}):Object(h.jsxs)(U.d,{children:[Object(h.jsx)(U.b,{path:"/signin",exact:!0,children:Object(h.jsx)(J,{login:!1})}),Object(h.jsx)(U.b,{path:"/signup",exact:!0,children:Object(h.jsx)(W,{login:!1})}),Object(h.jsx)(U.b,{path:"/",exact:!0,children:Object(h.jsx)(U.a,{to:"/welcome",exact:!0})}),Object(h.jsx)(U.b,{path:"/welcome",exact:!0,children:Object(h.jsx)(G,{login:!1})}),Object(h.jsx)(U.b,{component:S})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(I.a,{children:Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(Y,{})})}),document.getElementById("root")),$()},95:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[146,1,2]]]);
//# sourceMappingURL=main.7c649e5a.chunk.js.map